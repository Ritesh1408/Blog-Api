<html>
    <head>
        <title>ThinkFlare</title>
        <%- include('./partials/styles.ejs') %>
    </head>
    <body>


        <%- include('./partials/dashboard.ejs') %>

        <div class="sort-section">
            <label for="sort">Sort by: </label>
            <select id="sort" onchange=window.location.href = '/?pages=1&sort='+this.value>
                <option value="title" <% if(sort === 'title') { %>selected <%}%>>Title</option>
                <option value="createdAt" <% if(sort === 'createdAt') { %>selected <%}%>>Date</option>
            </select>
        </div>

        <% 
            if (blogData.length > 0) {
                for(let i = 0; i < blogData.length; i++) {
         %>
            <div class="blog-card">
                <div class="blog-title"><%= blogData[i].title %></div>
                <div class="blog-content"><%= blogData[i].body %></div>
                <div class="blog-content"><%= blogData[i]._id %></div>
            </div>
        <% } } %>
        <div class="pagination">
            <% for(let i = 1; i <= pages; i++) { %>
                <a href="/?page=<%= i %>" <% if(i == current) { %> class="activePage" <% } %>>
                    <%= i %>
                </a>
            <% } %>
        </div>

    </body>
</html>